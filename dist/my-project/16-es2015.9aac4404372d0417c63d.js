(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"J/hq":function(e,t,c){"use strict";c.r(t),c.d(t,"ClearaccessModule",(function(){return h}));var s=c("ofXK"),n=c("fXoL"),d=c("OaWH");function i(e,t){if(1&e){const e=n.fc();n.ec(0,"tr"),n.ec(1,"td",9),n.Zb(2,"input",12),n.dc(),n.ec(3,"td",10),n.Wc(4),n.dc(),n.ec(5,"td",10),n.Wc(6),n.dc(),n.ec(7,"td",10),n.Wc(8),n.dc(),n.ec(9,"td"),n.ec(10,"button",6),n.mc("click",(function(){n.Nc(e);const c=t.$implicit;return n.qc(2).deleteAccressStudent("'"+c.uid+"'")})),n.Wc(11," \u0e25\u0e1a "),n.dc(),n.dc(),n.dc()}if(2&e){const e=t.$implicit,c=n.qc(2);n.Lb(2),n.zc("id","check_",e.uid,""),n.Lb(2),n.ad(" ",e.prename,"",e.firstNameThai," ",e.lastNameThai," "),n.Lb(2),n.Yc(" ",e.ip_address," "),n.Lb(2),n.Yc(" ",c.readTimeEnd(e.time_end)," ")}}function r(e,t){if(1&e&&(n.ec(0,"table",8),n.ec(1,"thead"),n.ec(2,"tr"),n.Zb(3,"th",9),n.ec(4,"th",10),n.Wc(5,"\u0e0a\u0e37\u0e48\u0e2d"),n.dc(),n.ec(6,"th",10),n.Wc(7,"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48 IP"),n.dc(),n.ec(8,"th",10),n.Wc(9,"\u0e40\u0e27\u0e25\u0e32\u0e2b\u0e21\u0e14\u0e2d\u0e32\u0e22\u0e38"),n.dc(),n.Zb(10,"th",10),n.dc(),n.dc(),n.ec(11,"tbody"),n.Uc(12,i,12,6,"tr",11),n.dc(),n.dc()),2&e){const e=n.qc();n.Lb(12),n.yc("ngForOf",e.accessStudentRecord)}}let o=(()=>{class e{constructor(e){this.service=e,this.accessStudentRecord=null,this.checkAllselect=!1,this.getAccessStudent=()=>{this.accessStudentRecord=null,this.service.httpGet(`/getaccess/${this.service.localStorage.get("userLogin").uid}?token=${this.service.localStorage.get("userLogin").token}`).then(e=>{e.success&&e.result.length>0&&(this.accessStudentRecord=e.result.filter(e=>1e3*parseInt(e.time_end)>=(new Date).getTime()))})},this.deleteAccressStudent=e=>{this.service.httpPost(`/logoutsso?token=${this.service.localStorage.get("userLogin").token}&username=${e}&status=\u0e2d\u0e2d\u0e01\u0e08\u0e32\u0e01\u0e23\u0e30\u0e1a\u0e1a\u0e42\u0e14\u0e22\u0e2d\u0e32\u0e08\u0e32\u0e23\u0e22\u0e4c`,"").then(e=>{console.log(e),this.getAccessStudent()})},this.deleteSelect=()=>{let e=null,t=[];this.accessStudentRecord.forEach(c=>{e=document.getElementById("check_"+c.uid),1==e.checked&&t.push(`'${c.uid}'`)}),t.length>0&&this.deleteAccressStudent(t.join(", "))},this.tableCheck=e=>{let t=document.getElementById("check_"+e);t.checked=!t.checked},this.readTimeEnd=e=>{let t=1e3*parseInt(e);return""+new Date(t+252e5).toISOString().replace("T"," ").replace(".000Z","")}}ngOnInit(){this.getAccessStudent()}}return e.\u0275fac=function(t){return new(t||e)(n.Yb(d.a))},e.\u0275cmp=n.Sb({type:e,selectors:[["app-clearaccess"]],decls:12,vars:1,consts:[[1,"box-padding"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-md-6","mb-3"],[1,"text-right"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["class","table table-sm table-borderless table-hover",4,"ngIf"],[1,"table","table-sm","table-borderless","table-hover"],[2,"text-align","center","vertical-align","middle"],[2,"vertical-align","middle"],[4,"ngFor","ngForOf"],["type","checkbox","aria-label","Checkbox Body",3,"id"]],template:function(e,t){1&e&&(n.ec(0,"div",0),n.ec(1,"div",1),n.ec(2,"div",2),n.ec(3,"div",3),n.ec(4,"div",4),n.ec(5,"h2"),n.Wc(6,"\u0e25\u0e1a\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e2a\u0e39\u0e48\u0e23\u0e30\u0e1a\u0e1a"),n.dc(),n.dc(),n.ec(7,"div",4),n.ec(8,"div",5),n.ec(9,"button",6),n.mc("click",(function(){return t.deleteSelect()})),n.Wc(10," \u0e25\u0e1a\u0e17\u0e35\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01 "),n.dc(),n.dc(),n.dc(),n.dc(),n.Uc(11,r,13,1,"table",7),n.dc(),n.dc(),n.dc()),2&e&&(n.Lb(11),n.yc("ngIf",null!=t.accessStudentRecord))},directives:[s.m,s.l],styles:[""]}),e})();var l=c("tyNb");const a=[{path:"",component:o}];let u=(()=>{class e{}return e.\u0275mod=n.Wb({type:e}),e.\u0275inj=n.Vb({factory:function(t){return new(t||e)},imports:[[l.f.forChild(a)],l.f]}),e})(),h=(()=>{class e{}return e.\u0275mod=n.Wb({type:e}),e.\u0275inj=n.Vb({factory:function(t){return new(t||e)},imports:[[s.c,u]]}),e})()}}]);