function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,c=new Array(t);a<t;a++)c[a]=e[a];return c}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var c=t[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{YH80:function(e,t,a){"use strict";a.r(t),a.d(t,"DatabaseServerModule",(function(){return re}));var c,n=a("+fd8"),r=a("ofXK"),o=a("fXoL"),i=a("OaWH"),l=a("wZkO"),s=a("tyNb"),d=function(){return["/database/view"]},b=function(){return["/database/query/"]},u=((c=function(){function e(t){_classCallCheck(this,e),this.service=t}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||c)(o.Yb(i.a))},c.\u0275cmp=o.Sb({type:c,selectors:[["app-database-server"]],decls:7,vars:6,consts:[["mat-tab-nav-bar","",1,"bg-white","box-shadow",2,"border","unset"],["mat-tab-link","","routerLinkActive","router-active",3,"routerLink"],[1,"box-padding"]],template:function(e,t){1&e&&(o.ec(0,"nav",0),o.ec(1,"a",1),o.Wc(2),o.dc(),o.ec(3,"a",1),o.Wc(4),o.dc(),o.dc(),o.ec(5,"div",2),o.Zb(6,"router-outlet"),o.dc()),2&e&&(o.Lb(1),o.yc("routerLink",o.Ac(4,d)),o.Lb(1),o.Yc(" ","\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"," "),o.Lb(1),o.yc("routerLink",o.Ac(5,b)),o.Lb(1),o.Yc(" ","Query"," "))},directives:[l.b,s.e,l.a,s.d,s.g],styles:[".router-active[_ngcontent-%COMP%]{color:#007bff!important;font-weight:700;background-color:#eaeaea;border-bottom:3px solid #007bff;opacity:1!important}.mat-tab-link[_ngcontent-%COMP%]{color:#000;opacity:1!important}.mat-tab-link[_ngcontent-%COMP%]:hover{text-decoration:unset!important}"]}),c),g=a("FvrZ"),f=a("8yBR"),p=a("xKo/"),m=a.n(p),h=a("tk/3"),v=a("bTqV"),y=a("NFeN"),L=a("oOf3"),C=function(e){return{isExpanded:e}};function S(e,t){if(1&e){var a=o.fc();o.ec(0,"mat-tree-node",15),o.ec(1,"li",16),o.mc("click",(function(){o.Nc(a);var e=t.$implicit,c=o.qc(2);return c.pagiShowdatabase=1,c.selectTable(c.treeControl.expansionModel.selected[0].name,e.name)})),o.Zb(2,"button",17),o.ec(3,"span",18),o.Wc(4),o.dc(),o.dc(),o.dc()}if(2&e){var c=t.$implicit,n=o.qc(2);o.Lb(3),o.yc("ngClass",o.Bc(2,C,(n.treeControl.expansionModel.selected.length>0?n.treeControl.expansionModel.selected[0].name:"")==n.dbSelected&&c.name==n.tbSelected)),o.Lb(1),o.Yc(" ",c.name," ")}}function w(e,t){if(1&e){var a=o.fc();o.ec(0,"mat-nested-tree-node"),o.ec(1,"li",19),o.mc("click",(function(){o.Nc(a);var e=t.$implicit,c=o.qc(2);return c.treeControl.isExpanded(e)?c.treeControl.collapse(e):[c.treeControl.collapseAll(),c.treeControl.expand(e)]})),o.ec(2,"div",20),o.ec(3,"button",21),o.ec(4,"mat-icon",22),o.Wc(5),o.dc(),o.dc(),o.ec(6,"span",18),o.Wc(7),o.dc(),o.dc(),o.ec(8,"ul"),o.ac(9,23),o.dc(),o.dc(),o.dc()}if(2&e){var c=t.$implicit,n=o.qc(2);o.Lb(5),o.Yc(" ",n.treeControl.isExpanded(c)?"expand_more":"chevron_right"," "),o.Lb(1),o.yc("ngClass",o.Bc(5,C,n.treeControl.isExpanded(c))),o.Lb(1),o.Yc(" ",c.name,""),o.Lb(1),o.Pb("example-tree-invisible",!n.treeControl.isExpanded(c))}}function T(e,t){if(1&e&&(o.ec(0,"mat-tree",12),o.Uc(1,S,5,4,"mat-tree-node",13),o.Uc(2,w,10,7,"mat-nested-tree-node",14),o.dc()),2&e){var a=o.qc();o.yc("dataSource",a.dataSource)("treeControl",a.treeControl),o.Lb(2),o.yc("matTreeNodeDefWhen",a.hasChild)}}function x(e,t){if(1&e&&(o.ec(0,"span",26),o.Wc(1),o.dc()),2&e){var a=o.qc(2);o.Lb(1),o.Yc(" ",a.isSQLCommand.errorText," ")}}function I(e,t){if(1&e&&(o.ec(0,"div"),o.ec(1,"span",26),o.Wc(2),o.dc(),o.dc()),2&e){var a=o.qc(3);o.Lb(2),o.Yc(" ",a.dataInTable.message.split(":")[2].substring(5)," ")}}function k(e,t){if(1&e&&(o.ec(0,"th"),o.Wc(1),o.dc()),2&e){var a=t.$implicit;o.Lb(1),o.Yc(" ",a," ")}}function q(e,t){if(1&e&&(o.ec(0,"td"),o.Wc(1),o.dc()),2&e){var a=t.$implicit,c=o.qc().$implicit;o.Lb(1),o.Xc(c[a])}}function O(e,t){if(1&e&&(o.ec(0,"tr"),o.Uc(1,q,2,1,"td",34),o.dc()),2&e){var a=t.$implicit,c=o.qc(5);o.Lb(1),o.yc("ngForOf",c.getKeyObject(a))}}var _=function(e){return{id:"pagiShowdatabase",itemsPerPage:10,currentPage:e}};function W(e,t){if(1&e&&(o.ec(0,"table",33),o.ec(1,"thead"),o.ec(2,"tr"),o.Uc(3,k,2,1,"th",34),o.dc(),o.dc(),o.ec(4,"tbody"),o.Uc(5,O,2,1,"tr",34),o.rc(6,"paginate"),o.dc(),o.dc()),2&e){var a=o.qc(4);o.Lb(3),o.yc("ngForOf",a.getKeyObject(a.dataInTable.result)),o.Lb(2),o.yc("ngForOf",o.tc(6,2,a.dataInTable.result,o.Bc(5,_,a.pagiShowdatabase)))}}function D(e,t){if(1&e){var a=o.fc();o.ec(0,"pagination-controls",35),o.mc("pageChange",(function(e){return o.Nc(a),o.qc(4).pagiShowdatabase=e})),o.dc()}}function P(e,t){if(1&e&&(o.ec(0,"div",29),o.Uc(1,W,7,7,"table",30),o.ec(2,"div",31),o.Uc(3,D,1,0,"pagination-controls",32),o.dc(),o.dc()),2&e){var a=o.qc(3);o.Lb(1),o.yc("ngIf",a.getKeyObject(a.dataInTable.result).length>0),o.Lb(2),o.yc("ngIf",a.dataInTable.result.length>10)}}function A(e,t){if(1&e&&(o.ec(0,"div"),o.Uc(1,I,3,1,"div",27),o.Uc(2,P,4,2,"div",28),o.dc()),2&e){var a=o.qc(2);o.Lb(1),o.yc("ngIf",!a.dataInTable.isQuery),o.Lb(1),o.yc("ngIf",a.dataInTable.rowCount>0)}}function j(e,t){if(1&e&&(o.ec(0,"div",2),o.ec(1,"div",3),o.ec(2,"div",4),o.ec(3,"h2"),o.Wc(4,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"),o.dc(),o.ec(5,"p"),o.Wc(6),o.dc(),o.ec(7,"p"),o.Wc(8),o.dc(),o.ec(9,"p"),o.Wc(10),o.dc(),o.dc(),o.Uc(11,x,2,1,"ng-template",null,24,o.Vc),o.Uc(13,A,3,2,"div",25),o.dc(),o.dc()),2&e){var a=o.Kc(12),c=o.qc();o.Lb(6),o.Yc("Row : ",c.dataInTable.rowCount?c.dataInTable.rowCount:"0",""),o.Lb(2),o.Yc(" Column : ",c.dataInTable.colCount?c.dataInTable.colCount:"0"," "),o.Lb(2),o.Yc(" \u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e33\u0e2a\u0e31\u0e48\u0e07 : ",c.isSQLCommand.queryType.length>0?c.isSQLCommand.queryType.toUpperCase():"\u0e44\u0e21\u0e48\u0e17\u0e23\u0e32\u0e1a"," "),o.Lb(3),o.yc("ngIf",c.isSQLCommand.queryType.includes("Select")&&!0===c.isSQLCommand.isPass)("ngIfElse",a)}}var U,E=new m.a({version:"5.7.7",mode:p.SqlMode.AnsiQuotes}),Q=window,N=((U=function(){function e(t,a,c){var n=this;_classCallCheck(this,e),this.service=t,this.route=a,this.http=c,this.dbSelected="",this.tbSelected="",this.dataInTable=null,this.sqlCommand="",this.pagiShowdatabase=1,this.aceEditor=null,this.isSQLCommand={isPass:!1,command:"",errorText:"",queryType:""},this.treeControl=new g.j((function(e){return e.children})),this.dataSource=new f.d,this.hasChild=function(e,t){return!!t.children&&t.children.length>0},this.getDatabase=function(){n.service.httpGet("/exdatabase/getall/".concat(n.service.localStorage.get("userLogin").uid,"?token=").concat(n.service.localStorage.get("userLogin").token)).then((function(e){var t=[],a=[];e.result&&(e.result.forEach((function(e){"1"==e.status&&(a=[],e.table_name.length>0&&(e.table_name.split(",").forEach((function(e){a.push({name:e})})),t.push({name:e.database_name,children:a})))})),n.dataSource.data=t)}))},this.selectTable=function(e,t){n.dbSelected=e,n.tbSelected=t,n.dataInTable=null,n.isSQLCommand.isPass=!0,n.isSQLCommand.queryType="Select",n.service.httpGet("/exdatabase/getdata/".concat(e,"/").concat(t,"?token=").concat(n.service.localStorage.get("userLogin").token)).then((function(e){e.success?n.dataInTable=e.result:(n.dataInTable=null,n.service.showAlert("",e.message,"error"))}))},this.onQuery=function(){n.dataInTable=null,n.isSQLCommand={isPass:!1,command:"",errorText:"",queryType:""};var e=[],t=E.parse(""+n.aceEditor.getValue());if(null==t.parserError){var a=E.getQueryType(t);Object.keys(p.MySQLQueryType).forEach((function(t){p.MySQLQueryType[t]===a&&e.push((""+t).split("Qt").pop())})),n.isSQLCommand={command:n.aceEditor.getValue(),isPass:!0,errorText:"",queryType:e.join(",")}}else n.isSQLCommand={command:n.aceEditor.getValue(),isPass:!1,errorText:t.parserError.message,queryType:e.join(",")};console.log(n.isSQLCommand),n.service.httpPost("/exdatabase/simquery?token="+n.service.localStorage.get("userLogin").token,JSON.stringify({sqldatabase:n.dbSelected,sqlquery:n.aceEditor.getValue()})).then((function(e){n.dataInTable=e.success?e.result:null}))},this.getKeyObject=function(e){if(e.length>0){var t=_toConsumableArray(e);return Object.keys(t[0])}return"object"==typeof e?Object.keys(e):[]}}return _createClass(e,[{key:"ngOnInit",value:function(){this.getDatabase(),Q.ace.require("ace/ext/language_tools"),this.aceEditor=Q.ace.edit("queryTest"),this.aceEditor.session.setMode("ace/mode/sql"),this.aceEditor.setTheme("ace/theme/tomorrow"),this.aceEditor.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0})}}]),e}()).\u0275fac=function(e){return new(e||U)(o.Yb(i.a),o.Yb(s.a),o.Yb(h.a))},U.\u0275cmp=o.Sb({type:U,selectors:[["app-query"]],decls:19,vars:4,consts:[[1,"row"],[1,"col-xl-4","mb-3"],[1,"card"],[1,"card-body"],[1,"mb-3"],["class","example-tree",3,"dataSource","treeControl",4,"ngIf"],[1,"col-xl-8","mb-3"],[1,"card","mb-3",3,"hidden"],[1,"mb-3",2,"position","relative","height","160px"],["id","queryTest",2,"position","absolute","top","0px","right","0","bottom","0","left","0","z-index","4 !important"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["class","card",4,"ngIf"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodeToggle",""],[1,"mat-tree-node",3,"click"],["mat-icon-button","","disabled",""],[3,"ngClass"],[3,"click"],[1,"mat-tree-node"],["mat-icon-button",""],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""],["queryError",""],[4,"ngIf","ngIfElse"],[1,"text-danger"],[4,"ngIf"],["style","overflow: auto",4,"ngIf"],[2,"overflow","auto"],["class","table table-sm table-bordered table-hover",4,"ngIf"],[1,"text-center"],["id","pagiShowdatabase","responsive","true","previousLabel","\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a","nextLabel","\u0e16\u0e31\u0e14\u0e44\u0e1b",3,"pageChange",4,"ngIf"],[1,"table","table-sm","table-bordered","table-hover"],[4,"ngFor","ngForOf"],["id","pagiShowdatabase","responsive","true","previousLabel","\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a","nextLabel","\u0e16\u0e31\u0e14\u0e44\u0e1b",3,"pageChange"]],template:function(e,t){1&e&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.ec(4,"div",4),o.ec(5,"h2"),o.Wc(6,"\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"),o.dc(),o.dc(),o.Uc(7,T,3,3,"mat-tree",5),o.dc(),o.dc(),o.dc(),o.ec(8,"div",6),o.ec(9,"div",7),o.ec(10,"div",3),o.ec(11,"div",4),o.ec(12,"h2"),o.Wc(13),o.dc(),o.dc(),o.ec(14,"div",8),o.Zb(15,"div",9),o.dc(),o.ec(16,"button",10),o.mc("click",(function(){return t.onQuery()})),o.Wc(17," Query "),o.dc(),o.dc(),o.dc(),o.Uc(18,j,14,5,"div",11),o.dc(),o.dc()),2&e&&(o.Lb(7),o.yc("ngIf",t.dataSource.data),o.Lb(2),o.yc("hidden",t.dbSelected.length<=0),o.Lb(4),o.Yc("Query \u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 ",t.dbSelected,""),o.Lb(5),o.yc("ngIf",null!=t.dataInTable))},directives:[r.m,f.b,f.f,f.e,f.h,v.a,r.k,f.a,y.a,f.g,r.l,L.c],pipes:[L.b],styles:[".example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0;list-style-type:none;cursor:pointer}.example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{-webkit-padding-start:0;padding-inline-start:0}.mat-tree-node[_ngcontent-%COMP%]{min-height:unset}.isExpanded[_ngcontent-%COMP%]{color:#0b7bff!important;font-weight:700}"]}),U),M=a("1jcm");function Y(e,t){1&e&&(o.ec(0,"th"),o.Wc(1," \u0e2a\u0e16\u0e32\u0e19\u0e30 "),o.dc())}function $(e,t){if(1&e){var a=o.fc();o.ec(0,"td",22),o.ec(1,"mat-slide-toggle",26),o.mc("toggleChange",(function(){o.Nc(a);var e=o.qc().$implicit;return o.qc().onToggleDatabase(e)})),o.dc(),o.dc()}if(2&e){var c=o.qc().$implicit;o.Lb(1),o.yc("checked",1==c.status)}}function F(e,t){if(1&e){var a=o.fc();o.ec(0,"tr"),o.ec(1,"td",22),o.Wc(2),o.dc(),o.ec(3,"td",23),o.Wc(4),o.dc(),o.Uc(5,$,2,1,"td",24),o.ec(6,"td",22),o.ec(7,"button",25),o.mc("click",(function(){o.Nc(a);var e=t.$implicit;return o.qc().onGettable(e.Database)})),o.Wc(8," \u0e14\u0e39\u0e15\u0e32\u0e23\u0e32\u0e07 "),o.dc(),o.dc(),o.dc()}if(2&e){var c=t.$implicit,n=t.index,r=o.qc();o.Lb(2),o.Xc(n+1),o.Lb(2),o.Yc(" ",c.Database," "),o.Lb(1),o.yc("ngIf",4500!=r.service.localStorage.get("userLogin").gidNumber)}}function R(e,t){if(1&e){var a=o.fc();o.ec(0,"tr"),o.ec(1,"td",22),o.Wc(2),o.dc(),o.ec(3,"td",22),o.Wc(4),o.dc(),o.ec(5,"td",22),o.ec(6,"button",33),o.mc("click",(function(){o.Nc(a);var e=t.$implicit,c=o.qc(2);return c.onGetDataintable(e.table_name),c.pagiShowdatabase=1})),o.Wc(7," \u0e14\u0e39\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 "),o.dc(),o.dc(),o.dc()}if(2&e){var c=t.$implicit,n=t.index;o.Lb(2),o.Xc(n+1),o.Lb(2),o.Xc(c.table_name)}}function G(e,t){if(1&e){var a=o.fc();o.ec(0,"div",1),o.ec(1,"div",2),o.ec(2,"div",3),o.ec(3,"div",0),o.ec(4,"div",27),o.ec(5,"h2",28),o.Wc(6),o.dc(),o.dc(),o.ec(7,"div",29),o.ec(8,"div",30),o.ec(9,"button",31),o.mc("click",(function(){return o.Nc(a),o.qc().tableResult=null})),o.ec(10,"span",17),o.Wc(11,"\xd7"),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.ec(12,"div",32),o.ec(13,"table",6),o.ec(14,"thead"),o.ec(15,"tr"),o.Zb(16,"th"),o.ec(17,"th"),o.Wc(18,"\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e32\u0e23\u0e32\u0e07"),o.dc(),o.Zb(19,"th"),o.dc(),o.dc(),o.ec(20,"tbody"),o.Uc(21,R,8,2,"tr",9),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc()}if(2&e){var c=o.qc();o.Lb(6),o.Yc("\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e15\u0e32\u0e23\u0e32\u0e07\u0e02\u0e2d\u0e07\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 ",c.selectDatabase,""),o.Lb(15),o.yc("ngForOf",c.tableResult)}}function K(e,t){if(1&e&&(o.ec(0,"th"),o.Wc(1),o.dc()),2&e){var a=t.$implicit;o.Lb(1),o.Yc(" ",a," ")}}function Z(e,t){if(1&e&&(o.ec(0,"td"),o.Wc(1),o.dc()),2&e){var a=t.$implicit,c=o.qc().$implicit;o.Lb(1),o.Xc(c[a])}}function V(e,t){if(1&e&&(o.ec(0,"tr"),o.Uc(1,Z,2,1,"td",9),o.dc()),2&e){var a=t.$implicit,c=o.qc(3);o.Lb(1),o.yc("ngForOf",c.getKeyObject(a))}}var X=function(e){return{id:"pagiShowdatabase",itemsPerPage:15,currentPage:e}};function B(e,t){if(1&e&&(o.ec(0,"table",39),o.ec(1,"thead"),o.ec(2,"tr"),o.Uc(3,K,2,1,"th",9),o.dc(),o.dc(),o.ec(4,"tbody"),o.Uc(5,V,2,1,"tr",9),o.rc(6,"paginate"),o.dc(),o.dc()),2&e){var a=o.qc(2);o.Lb(3),o.yc("ngForOf",a.getKeyObject(a.Dataintable.result)),o.Lb(2),o.yc("ngForOf",o.tc(6,2,a.Dataintable.result,o.Bc(5,X,a.pagiShowdatabase)))}}function H(e,t){if(1&e){var a=o.fc();o.ec(0,"pagination-controls",40),o.mc("pageChange",(function(e){return o.Nc(a),o.qc(2).pagiShowdatabase=e})),o.dc()}}function J(e,t){1&e&&(o.ec(0,"div",41),o.ec(1,"h3"),o.Wc(2,"\u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e19\u0e15\u0e32\u0e23\u0e32\u0e07"),o.dc(),o.dc())}function z(e,t){if(1&e&&(o.ec(0,"div",34),o.Uc(1,B,7,7,"table",35),o.ec(2,"div",36),o.Uc(3,H,1,0,"pagination-controls",37),o.dc(),o.Uc(4,J,3,0,"div",38),o.dc()),2&e){var a=o.qc();o.Lb(1),o.yc("ngIf",a.getKeyObject(a.Dataintable.result).length>0),o.Lb(2),o.yc("ngIf",a.Dataintable.result.length>15),o.Lb(1),o.yc("ngIf",a.getKeyObject(a.Dataintable).length<=0)}}var ee,te,ae,ce=[{path:"",component:u,children:[{path:"view",component:(ee=function(){function e(t){var a=this;_classCallCheck(this,e),this.service=t,this.databaseResult=null,this.tableResult=null,this.Dataintable=null,this.selectDatabase=null,this.pagiShowdatabase=1,this.onGetdatabse=function(){a.databaseResult=null,a.service.httpGet("/exdatabase/show/".concat(a.service.localStorage.get("userLogin").uid,"?token=").concat(a.service.localStorage.get("userLogin").token)).then((function(e){e.success?a.databaseResult=4500==a.service.localStorage.get("userLogin").gidNumber?e.result.filter((function(e){return"1"==e.status})):e.result:a.service.showAlert("",e.message,"error")}))},this.onGettable=function(e){a.selectDatabase=e,a.tableResult=null,a.service.httpGet("/exdatabase/table/".concat(e,"?token=").concat(a.service.localStorage.get("userLogin").token)).then((function(e){e.success?a.tableResult=e.result:a.service.showAlert("",e.message,"error")}))},this.onGetDataintable=function(e){a.Dataintable=null,a.service.httpGet("/exdatabase/getdata/".concat(a.selectDatabase,"/").concat(e,"?token=").concat(a.service.localStorage.get("userLogin").token)).then((function(e){e.success?a.Dataintable=e.result:(a.Dataintable=[],a.service.showAlert("",e.message,"error"))}))},this.getKeyObject=function(e){if(e.length>0){var t=_toConsumableArray(e);return Object.keys(t[0])}return"object"==typeof e?Object.keys(e):[]},this.onToggleDatabase=function(e){var t={dbName:e.Database,status:1==e.status?0:1,owner:a.service.localStorage.get("userLogin").uid};a.service.httpPost("/exdatabase/insertdup?token="+a.service.localStorage.get("userLogin").token,JSON.stringify(t)).then((function(e){e.success?(a.onGetdatabse(),a.service.toastr.success("\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01\u0e2a\u0e33\u0e40\u0e23\u0e47\u0e08")):a.service.showAlert("",e.message,"error")}))}}return _createClass(e,[{key:"ngOnInit",value:function(){this.onGetdatabse()}}]),e}(),ee.\u0275fac=function(e){return new(e||ee)(o.Yb(i.a))},ee.\u0275cmp=o.Sb({type:ee,selectors:[["app-view"]],decls:32,vars:4,consts:[[1,"row"],[1,"col-xl-6","mb-3"],[1,"card"],[1,"card-body"],[1,"mb-3"],[2,"text-align","center","overflow","auto"],[1,"table","table-sm","table-borderless","table-hover"],[2,"text-align","left"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","col-xl-6 mb-3",4,"ngIf"],["id","showDataInTable","tabindex","-1","role","dialog","aria-labelledby","showDataInTableLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","showDataInTableLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],["class","box-padding","style","overflow: auto",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger","btn-sm"],[2,"vertical-align","middle"],[2,"vertical-align","middle","text-align","left"],["style","vertical-align: middle",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[3,"checked","toggleChange"],[1,"col-11","mb-3"],[1,""],[1,"col-1"],[1,"text-right"],["type","button",1,"close",3,"click"],[2,"overflow","auto"],["type","button","data-toggle","modal","data-target","#showDataInTable",1,"btn","btn-primary","btn-sm",3,"click"],[1,"box-padding",2,"overflow","auto"],["class","table table-sm table-bordered table-hover",4,"ngIf"],[1,"text-center"],["id","pagiShowdatabase","responsive","true","previousLabel","\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a","nextLabel","\u0e16\u0e31\u0e14\u0e44\u0e1b",3,"pageChange",4,"ngIf"],["class","box-padding text-center",4,"ngIf"],[1,"table","table-sm","table-bordered","table-hover"],["id","pagiShowdatabase","responsive","true","previousLabel","\u0e22\u0e49\u0e2d\u0e19\u0e01\u0e25\u0e31\u0e1a","nextLabel","\u0e16\u0e31\u0e14\u0e44\u0e1b",3,"pageChange"],[1,"box-padding","text-center"]],template:function(e,t){1&e&&(o.ec(0,"div",0),o.ec(1,"div",1),o.ec(2,"div",2),o.ec(3,"div",3),o.ec(4,"h2",4),o.Wc(5,"\u0e23\u0e32\u0e22\u0e0a\u0e37\u0e48\u0e2d\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"),o.dc(),o.ec(6,"div",5),o.ec(7,"table",6),o.ec(8,"thead"),o.ec(9,"tr"),o.Zb(10,"th"),o.ec(11,"th",7),o.Wc(12,"\u0e0a\u0e37\u0e48\u0e2d\u0e10\u0e32\u0e19\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25"),o.dc(),o.Uc(13,Y,2,0,"th",8),o.Zb(14,"th"),o.dc(),o.dc(),o.ec(15,"tbody"),o.Uc(16,F,9,3,"tr",9),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.dc(),o.Uc(17,G,22,2,"div",10),o.dc(),o.ec(18,"div",11),o.ec(19,"div",12),o.ec(20,"div",13),o.ec(21,"div",14),o.ec(22,"h2",15),o.Wc(23,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e43\u0e19\u0e15\u0e32\u0e23\u0e32\u0e07"),o.dc(),o.ec(24,"button",16),o.ec(25,"span",17),o.Wc(26,"\xd7"),o.dc(),o.dc(),o.dc(),o.ec(27,"div",18),o.Uc(28,z,5,3,"div",19),o.dc(),o.ec(29,"div",20),o.ec(30,"button",21),o.Wc(31," \u0e1b\u0e34\u0e14 "),o.dc(),o.dc(),o.dc(),o.dc(),o.dc()),2&e&&(o.Lb(13),o.yc("ngIf",4500!=t.service.localStorage.get("userLogin").gidNumber),o.Lb(3),o.yc("ngForOf",t.databaseResult),o.Lb(1),o.yc("ngIf",null!=t.tableResult&&t.tableResult.length>0),o.Lb(11),o.yc("ngIf",null!=t.Dataintable))},directives:[r.m,r.l,M.a,L.c],pipes:[L.b],styles:[""]}),ee)},{path:"query",component:N},{path:"",redirectTo:"/database/view",pathMatch:"full"}]}],ne=((ae=function e(){_classCallCheck(this,e)}).\u0275mod=o.Wb({type:ae}),ae.\u0275inj=o.Vb({factory:function(e){return new(e||ae)},imports:[[s.f.forChild(ce)],s.f]}),ae),re=((te=function e(){_classCallCheck(this,e)}).\u0275mod=o.Wb({type:te}),te.\u0275inj=o.Vb({factory:function(e){return new(e||te)},imports:[[r.c,ne,n.a,L.a]]}),te)}}]);